<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surf Chat Bot</title>
    <link rel="stylesheet" href="style.css">
    <style>
      /* Reset + page centering */
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #fafafa;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      }

      /* The chat window */
      chat-window {
        display: block;
        width: 360px;
        height: 500px;
        background: #e5e5e5;
        border: 1px solid #ccc;
        border-radius: 8px;
        overflow-y: auto;
        padding: 8px;
      }

      /* Input area below chat window */
      .input-area {
        display: flex;
        margin-top: 10px;
      }

      textarea {
        resize: none;
        width: 300px; 
        height: 40px;
        font-size: 14px;
        padding: 6px;
        border-radius: 6px;
        border: 1px solid #bbb;
        outline: none;
      }

      button {
        margin-left: 6px;
        padding: 8px 14px;
        background-color: #444;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }

      button:hover {
        background-color: #333;
      }
    </style>

    <script type="module">
      const DEBUG = false;
      const log = (msg) => { if (DEBUG) console.log(msg); };

      function getResponse(message) {
        return "You said: " + message;
      }

      function addToChatWindow(role, text) {
        const chatWindow = document.getElementById("chat-window");
        const msg = document.createElement("div");
        msg.textContent = text;
        msg.style.margin = "6px 0";
        msg.style.padding = "6px 10px";
        msg.style.borderRadius = "6px";
        msg.style.maxWidth = "75%";
        msg.style.wordWrap = "break-word";

        if (role === "user") {
          msg.style.background = "#4a7efc";
          msg.style.color = "white";
          msg.style.marginLeft = "auto"; 
        } else {
          msg.style.background = "#ddd";
          msg.style.color = "#111";
          msg.style.marginRight = "auto";
        }

        chatWindow.appendChild(msg);
        chatWindow.scrollTop = chatWindow.scrollHeight;
      }

      function processMessage(message) {
        addToChatWindow("user", message);
        const response = getResponse(message);
        addToChatWindow("bot", response);
      }

      function send() {
        const messageBox = document.getElementById("messageBox");
        const message = messageBox.value.trim();
        if (!message) return;
        messageBox.value = "";
        processMessage(message);
      }

      function init() {
        document.getElementById("sendBtn").addEventListener("click", send);
      }

      window.addEventListener("DOMContentLoaded", init);
    </script>
  </head>

  <body>
    <chat-window id="chat-window"></chat-window>

    <div class="input-area">
      <textarea
        placeholder="Type a Message"
        rows="2"
        cols="40"
        id="messageBox"
      ></textarea>
      <button id="sendBtn" type="button">Send</button>
    </div>
  </body>
</html>
